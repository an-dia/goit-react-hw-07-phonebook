(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{11:function(t,e,n){t.exports={form:"ContactForm_form__1CCV-",label:"ContactForm_label__1u4Tw",input:"ContactForm_input__13voB",button:"ContactForm_button__3wIIn"}},112:function(t,e,n){},113:function(t,e,n){"use strict";n.r(e);var c=n(1),r=n(0),a=n.n(r),o=n(10),i=n.n(o),s=n(9),u=n(19),l=n(20),b=n(24),j=n(22),p=n(114),d=n(21),f=n.n(d),h=n(44),m=n.n(h),O=n(45),_=n.n(O),x=n(46),v=n.n(x),C=function(t){var e=t.children;return Object(c.jsx)("div",{className:v.a.container,children:e})},g=n(47),y=n.n(g),N=n(48),A=n.n(N),S=function(t){var e=t.title,n=t.level,r="h".concat(void 0===n?1:n);return Object(c.jsx)(p.a,{in:!0,appear:!0,timeout:500,classNames:y.a,unmountOnExit:!0,children:Object(c.jsx)(r,{className:A.a.Title,children:e})})},F=n(4),w=n(32),E=n.n(w),I=n(49),k=n(16),L=n.n(k),T=n(3),D=Object(T.b)("contacts/fetchContactsRequest"),P=Object(T.b)("contacts/fetchContactsSuccess"),W=Object(T.b)("contacts/fetchContactsError"),J=Object(T.b)("contacts/addContactRequest"),q=Object(T.b)("contacts/addContactSuccess"),R=Object(T.b)("contacts/addContactError"),Z=Object(T.b)("contacts/deleteContactRequest"),B=Object(T.b)("contacts/deleteContactSuccess"),V=Object(T.b)("contacts/deleteContactError"),z=Object(T.b)("contacts/changeFilter");L.a.defaults.baseURL="http://localhost:4040";var M,Q,X,G=function(){return function(){var t=Object(I.a)(E.a.mark((function t(e){var n,c;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(D()),t.prev=1,t.next=4,L.a.get("/contacts");case 4:n=t.sent,c=n.data,e(P(c)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(W(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},H=function(t,e){return function(n){var c={name:t,number:e};n(J()),L.a.post("/contacts",c).then((function(t){var e=t.data;return n(q(e))})).catch((function(t){return n(R(t))}))}},K=function(t){return function(e){e(Z()),L.a.delete("/contacts/".concat(t)).then((function(){return e(B(t))})).catch((function(t){return e(V(t))}))}},U=n(11),Y=n.n(U),$=n(15),tt=n.n($),et=n(33),nt=n.n(et),ct=function(t){var e=t.text;return Object(c.jsx)("div",{className:nt.a.Container,children:Object(c.jsx)("p",{className:nt.a.Text,children:e})})},rt=n(50),at=n.n(rt),ot=n(18),it=function(t){return t.contacts.items},st=function(t){return t.contacts.filter},ut={getLoading:function(t){return t.contacts.loading},getContacts:it,getError:function(t){return t.contacts.error},getFilter:st,getVisibleContacts:Object(ot.a)([it,st],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))}))},lt=function(t){Object(b.a)(n,t);var e=Object(j.a)(n);function n(){var t;Object(u.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))).state={name:"",number:"",error:!1,textAlert:""},t.inputNameId=tt.a.generate(),t.inputNumberId=tt.a.generate(),t.handleSubmit=function(e){var n=t.state,c=n.name,r=n.number;e.preventDefault(),""!==c?""!==r?t.props.contacts.some((function(t){return t.name===c}))?t.showAlert("".concat(c," is already in contacts")):(t.props.onSubmit(c,r),t.reset()):t.showAlert("Please enter the contact phone number!"):t.showAlert("Please enter your contact name!")},t.showAlert=function(e){t.reset(),t.setState({error:!0,textAlert:e}),setTimeout((function(){return t.setState({error:!1})}),2e3)},t.reset=function(){t.setState({name:"",number:""})},t.handlerChange=function(e){var n=e.currentTarget,c=n.name,r=n.value;t.setState(Object(F.a)({},c,r))},t}return Object(l.a)(n,[{key:"render",value:function(){var t=this.state,e=t.error,n=t.textAlert;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(p.a,{in:e,classNames:at.a,timeout:250,unmountOnExit:!0,children:Object(c.jsx)(ct,{text:n})}),Object(c.jsxs)("form",{className:Y.a.form,onSubmit:this.handleSubmit,children:[Object(c.jsx)("label",{className:Y.a.label,htmlFor:this.inputNameId,children:Object(c.jsx)("span",{children:"Name"})}),Object(c.jsx)("input",{className:Y.a.input,type:"text",id:this.inputNameId,value:this.state.name,name:"name",placeholder:"Enter your name",onChange:this.handlerChange}),Object(c.jsx)("label",{className:Y.a.label,htmlFor:this.inputNumberId,children:Object(c.jsx)("span",{children:"Number"})}),Object(c.jsx)("input",{className:Y.a.input,type:"tel",id:this.inputNumberId,value:this.state.number,name:"number",placeholder:"Enter your number",onChange:this.handlerChange}),Object(c.jsx)("button",{className:Y.a.button,children:"Add contact"})]})]})}}]),n}(r.Component),bt=Object(s.b)((function(t){return{contacts:ut.getContacts(t)}}),(function(t){return{onSubmit:function(e,n){return t(H(e,n))}}}))(lt),jt=n(25),pt=n.n(jt),dt=n(23),ft=n(5),ht=Object(T.c)([],(M={},Object(F.a)(M,P,(function(t,e){return e.payload})),Object(F.a)(M,q,(function(t,e){var n=e.payload;return[].concat(Object(dt.a)(t),[n])})),Object(F.a)(M,B,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),M)),mt=Object(T.c)(!1,(Q={},Object(F.a)(Q,D,(function(){return!0})),Object(F.a)(Q,P,(function(){return!1})),Object(F.a)(Q,W,(function(){return!1})),Object(F.a)(Q,J,(function(){return!0})),Object(F.a)(Q,q,(function(){return!1})),Object(F.a)(Q,R,(function(){return!1})),Object(F.a)(Q,Z,(function(){return!0})),Object(F.a)(Q,B,(function(){return!1})),Object(F.a)(Q,V,(function(){return!1})),Q)),Ot=Object(T.c)("",Object(F.a)({},z,(function(t,e){return e.payload}))),_t=Object(T.c)(null,(X={},Object(F.a)(X,W,(function(t,e){return e.payload})),Object(F.a)(X,R,(function(t,e){return e.payload})),Object(F.a)(X,V,(function(t,e){return e.payload})),X)),xt=Object(ft.c)({items:ht,filter:Ot,loading:mt,error:_t}),vt=Object(s.b)((function(t){return{value:ut.getFilter(t)}}),(function(t){return{onChange:function(e){return t(z(e.target.value))}}}))((function(t){var e=t.name,n=t.onChange,r=tt.a.generate();return Object(c.jsxs)("div",{className:pt.a.filterWrapper,children:[Object(c.jsx)("label",{className:pt.a.label,htmlFor:r,children:Object(c.jsx)("span",{children:"Find contacts by name"})}),Object(c.jsx)("input",{className:pt.a.input,type:"text",placeholder:"Search",id:r,value:e,onChange:n})]})})),Ct=n(115),gt=n(51),yt=n.n(gt),Nt=n(26),At=n.n(Nt),St=function(t){var e=t.name,n=t.number,r=t.onDeleteContact;return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("li",{className:At.a.listItem,children:[Object(c.jsxs)("p",{className:At.a.text,children:[e," : ",n]}),Object(c.jsx)("button",{className:At.a.button,type:"button",onClick:r,children:"Delete"})]})})},Ft=function(t){var e=t.contacts,n=t.onDeleteContact;return Object(c.jsx)(Ct.a,{component:"ul",className:yt.a.contactList,children:e.map((function(t){var e=t.name,r=t.number,a=t.id;return Object(c.jsx)(p.a,{timeout:250,classNames:f.a,children:Object(c.jsx)(St,{name:e,number:r,onDeleteContact:function(){return n(a)}},a)},a)}))})},wt=Object(s.b)((function(t){return{contacts:ut.getVisibleContacts(t)}}),(function(t){return{onDeleteContact:function(e){return t(K(e))}}}))(Ft),Et=n(52),It=n.n(Et),kt=(n(110),n(53)),Lt=n.n(kt),Tt=function(){return Object(c.jsx)("div",{className:Lt.a.Container,children:Object(c.jsx)(It.a,{type:"Hearts",color:"cornflowerblue",height:60,width:60})})},Dt=function(t){Object(b.a)(n,t);var e=Object(j.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){return Object(c.jsx)(C,{children:Object(c.jsxs)("div",{className:_.a.Wrapper,children:[this.props.error?Object(c.jsxs)("h1",{style:{color:"red"},children:["Error: ",this.props.error.message]}):null,Object(c.jsx)(S,{title:"Phonebook",level:1}),Object(c.jsx)(bt,{}),Object(c.jsx)(S,{title:"Contacts",level:2}),Object(c.jsx)(p.a,{in:this.props.contacts.length>1,classNames:m.a,timeout:250,unmountOnExit:!0,children:Object(c.jsx)(vt,{})}),this.props.isLoadingContacts&&Object(c.jsx)(Tt,{}),Object(c.jsx)(p.a,{in:0!==this.props.contacts.length,classNames:f.a,timeout:250,unmountOnExit:!0,children:Object(c.jsx)(wt,{})})]})})}}]),n}(r.Component),Pt=Object(s.b)((function(t){return{contacts:ut.getContacts(t),filter:ut.getFilter(t),isLoadingContacts:ut.getLoading(t),error:ut.getError(t)}}),(function(t){return{fetchContacts:function(){return t(G())}}}))(Dt),Wt=n(12),Jt=n(54),qt=n.n(Jt),Rt=[].concat(Object(dt.a)(Object(T.d)({serializableCheck:{ignoredActions:[Wt.a,Wt.f,Wt.b,Wt.c,Wt.d,Wt.e]}})),[function(t){return function(t){return function(e){console.log("My middleware",e),t(e)}}},qt.a]),Zt=Object(T.a)({reducer:{contacts:xt},middleware:Rt,devTools:!1});n(111),n(112);i.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(s.a,{store:Zt,children:Object(c.jsx)(Pt,{})})}),document.getElementById("root"))},21:function(t,e,n){t.exports={enter:"fade_enter__3fP_K",enterActive:"fade_enterActive__3wBSj",exit:"fade_exit__1p80h",exitActive:"fade_exitActive__1pXJE"}},25:function(t,e,n){t.exports={filterWrapper:"Filter_filterWrapper__-PrGA",label:"Filter_label__mD29V",input:"Filter_input__3azow"}},26:function(t,e,n){t.exports={text:"ContactItem_text__2PEJH",button:"ContactItem_button__3oRzx",listItem:"ContactItem_listItem__3sgZh"}},33:function(t,e,n){t.exports={Container:"Alert_Container__2_s03",Text:"Alert_Text__spP61"}},44:function(t,e,n){t.exports={enter:"searchFadeStyles_enter__159Zt",enterActive:"searchFadeStyles_enterActive__1o5IK",exit:"searchFadeStyles_exit__2En9J",exitActive:"searchFadeStyles_exitActive__DQ2i0"}},45:function(t,e,n){t.exports={Wrapper:"App_Wrapper__3YC8U"}},46:function(t,e,n){t.exports={container:"Container_container__E-9pD"}},47:function(t,e,n){t.exports={appear:"appear_appear__N6YGZ",appearActive:"appear_appearActive__357W4"}},48:function(t,e,n){t.exports={Title:"Title_Title__2qBQb"}},50:function(t,e,n){t.exports={enter:"fadeAlertStyle_enter__3tnyZ",enterActive:"fadeAlertStyle_enterActive__1mrQF",exit:"fadeAlertStyle_exit__2ruN6",exitActive:"fadeAlertStyle_exitActive__3qS0X"}},51:function(t,e,n){t.exports={contactList:"ContactList_contactList__1Zd4T"}},53:function(t,e,n){t.exports={Container:"LoaderSpinner_Container__1XJOo"}}},[[113,1,2]]]);
//# sourceMappingURL=main.58ce0f35.chunk.js.map