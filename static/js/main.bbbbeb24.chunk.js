(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{157:function(t,e,n){t.exports={enter:"searchFadeStyles_enter__159Zt",enterActive:"searchFadeStyles_enterActive__1o5IK",exit:"searchFadeStyles_exit__2En9J",exitActive:"searchFadeStyles_exitActive__DQ2i0"}},158:function(t,e,n){t.exports={Wrapper:"App_Wrapper__3YC8U"}},159:function(t,e,n){t.exports={container:"Container_container__E-9pD"}},160:function(t,e,n){t.exports={appear:"appear_appear__N6YGZ",appearActive:"appear_appearActive__357W4"}},161:function(t,e,n){t.exports={Title:"Title_Title__2qBQb"}},163:function(t,e,n){t.exports={enter:"fadeAlertStyle_enter__3tnyZ",enterActive:"fadeAlertStyle_enterActive__1mrQF",exit:"fadeAlertStyle_exit__2ruN6",exitActive:"fadeAlertStyle_exitActive__3qS0X"}},164:function(t,e,n){t.exports={contactList:"ContactList_contactList__1Zd4T"}},33:function(t,e,n){t.exports={form:"ContactForm_form__1CCV-",label:"ContactForm_label__1u4Tw",input:"ContactForm_input__13voB",button:"ContactForm_button__3wIIn"}},495:function(t,e,n){},496:function(t,e,n){"use strict";n.r(e);var c=n(2),a=n(1),r=n.n(a),o=n(11),i=n.n(o),s=n(23),u=n(63),l=n(64),b=n(68),j=n(66),p=n(497),d=n(65),f=n.n(d),h=n(157),m=n.n(h),O=n(158),_=n.n(O),x=n(159),v=n.n(x),C=function(t){var e=t.children;return Object(c.jsx)("div",{className:v.a.container,children:e})},y=n(160),N=n.n(y),g=n(161),A=n.n(g),S=function(t){var e=t.title,n=t.level,a="h".concat(void 0===n?1:n);return Object(c.jsx)(p.a,{in:!0,appear:!0,timeout:500,classNames:N.a,unmountOnExit:!0,children:Object(c.jsx)(a,{className:A.a.Title,children:e})})},w=n(6),F=n(97),I=n.n(F),E=n(162),k=n(51),T=n.n(k),D=n(5),L=Object(D.b)("contacts/fetchContactsRequest"),P=Object(D.b)("contacts/fetchContactsSuccess"),W=Object(D.b)("contacts/fetchContactsError"),q=Object(D.b)("contacts/addContactRequest"),J=Object(D.b)("contacts/addContactSuccess"),R=Object(D.b)("contacts/addContactError"),Z=Object(D.b)("contacts/deleteContactRequest"),B=Object(D.b)("contacts/deleteContactSuccess"),z=Object(D.b)("contacts/deleteContactError"),M=Object(D.b)("contacts/changeFilter");T.a.defaults.baseURL="http://localhost:4040";var Q,G,K,U=function(){return function(){var t=Object(E.a)(I.a.mark((function t(e){var n,c;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(L()),t.prev=1,t.next=4,T.a.get("/contacts");case 4:n=t.sent,c=n.data,e(P(c)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(W(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},V=function(t,e){return function(n){var c={name:t,number:e};n(q()),T.a.post("/contacts",c).then((function(t){var e=t.data;return n(J(e))})).catch((function(t){return n(R(t))}))}},X=function(t){return function(e){e(Z()),T.a.delete("/contacts/".concat(t)).then((function(){return e(B(t))})).catch((function(t){return e(z(t))}))}},Y=n(33),H=n.n(Y),$=n(50),tt=n.n($),et=n(98),nt=n.n(et),ct=function(t){var e=t.text;return Object(c.jsx)("div",{className:nt.a.Container,children:Object(c.jsx)("p",{className:nt.a.Text,children:e})})},at=n(163),rt=n.n(at),ot=function(t){Object(b.a)(n,t);var e=Object(j.a)(n);function n(){var t;Object(u.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={name:"",number:"",error:!1,textAlert:""},t.inputNameId=tt.a.generate(),t.inputNumberId=tt.a.generate(),t.handleSubmit=function(e){var n=t.state,c=n.name,a=n.number;e.preventDefault(),""!==c?""!==a?t.props.contacts.some((function(t){return t.name===c}))?t.showAlert("".concat(c," is already in contacts")):(t.props.onSubmit(c,a),t.reset()):t.showAlert("Please enter the contact phone number!"):t.showAlert("Please enter your contact name!")},t.showAlert=function(e){t.reset(),t.setState({error:!0,textAlert:e}),setTimeout((function(){return t.setState({error:!1})}),2e3)},t.reset=function(){t.setState({name:"",number:""})},t.handlerChange=function(e){var n=e.currentTarget,c=n.name,a=n.value;t.setState(Object(w.a)({},c,a))},t}return Object(l.a)(n,[{key:"render",value:function(){var t=this.state,e=t.error,n=t.textAlert;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(p.a,{in:e,classNames:rt.a,timeout:250,unmountOnExit:!0,children:Object(c.jsx)(ct,{text:n})}),Object(c.jsxs)("form",{className:H.a.form,onSubmit:this.handleSubmit,children:[Object(c.jsx)("label",{className:H.a.label,htmlFor:this.inputNameId,children:Object(c.jsx)("span",{children:"Name"})}),Object(c.jsx)("input",{className:H.a.input,type:"text",id:this.inputNameId,value:this.state.name,name:"name",placeholder:"Enter your name",onChange:this.handlerChange}),Object(c.jsx)("label",{className:H.a.label,htmlFor:this.inputNumberId,children:Object(c.jsx)("span",{children:"Number"})}),Object(c.jsx)("input",{className:H.a.input,type:"tel",id:this.inputNumberId,value:this.state.number,name:"number",placeholder:"Enter your number",onChange:this.handlerChange}),Object(c.jsx)("button",{className:H.a.button,children:"Add contact"})]})]})}}]),n}(a.Component),it=Object(s.b)((function(t){return{contacts:t.contacts.items}}),(function(t){return{onSubmit:function(e,n){return t(V(e,n))}}}))(ot),st=n(69),ut=n.n(st),lt=Object(s.b)((function(t){return{value:t.contacts.filter}}),(function(t){return{onChange:function(e){return t(M(e.target.value))}}}))((function(t){var e=t.name,n=t.onChange,a=tt.a.generate();return Object(c.jsxs)("div",{className:ut.a.filterWrapper,children:[Object(c.jsx)("label",{className:ut.a.label,htmlFor:a,children:Object(c.jsx)("span",{children:"Find contacts by name"})}),Object(c.jsx)("input",{className:ut.a.input,type:"text",placeholder:"Search",id:a,value:e,onChange:n})]})})),bt=n(498),jt=n(164),pt=n.n(jt),dt=n(70),ft=n.n(dt),ht=function(t){var e=t.name,n=t.number,a=t.onDeleteContact;return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("li",{className:ft.a.listItem,children:[Object(c.jsxs)("p",{className:ft.a.text,children:[e," : ",n]}),Object(c.jsx)("button",{className:ft.a.button,type:"button",onClick:a,children:"Delete"})]})})},mt=function(t){var e=t.contacts,n=t.onDeleteContact;return Object(c.jsx)(bt.a,{component:"ul",className:pt.a.contactList,children:e.map((function(t){var e=t.name,a=t.number,r=t.id;return Object(c.jsx)(p.a,{timeout:250,classNames:f.a,children:Object(c.jsx)(ht,{name:e,number:a,onDeleteContact:function(){return n(r)}},r)},r)}))})},Ot=function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))},_t=Object(s.b)((function(t){var e=t.contacts,n=e.items,c=e.filter;return{contacts:Ot(n,c)}}),(function(t){return{onDeleteContact:function(e){return t(X(e))}}}))(mt),xt=(n(201),function(t){Object(b.a)(n,t);var e=Object(j.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){return Object(c.jsx)(C,{children:Object(c.jsxs)("div",{className:_.a.Wrapper,children:[this.props.error?Object(c.jsxs)("h1",{style:{color:"red"},children:["Error: ",this.props.error.message]}):null,Object(c.jsx)(S,{title:"Phonebook",level:1}),Object(c.jsx)(it,{}),Object(c.jsx)(S,{title:"Contacts",level:2}),Object(c.jsx)(p.a,{in:this.props.contacts.length>1,classNames:m.a,timeout:250,unmountOnExit:!0,children:Object(c.jsx)(lt,{})}),this.props.isLoadingContacts&&Object(c.jsx)("h1",{children:"Loading..."}),Object(c.jsx)(p.a,{in:0!==this.props.contacts.length,classNames:f.a,timeout:250,unmountOnExit:!0,children:Object(c.jsx)(_t,{})})]})})}}]),n}(a.Component)),vt=Object(s.b)((function(t){return{contacts:t.contacts.items,isLoadingContacts:t.contacts.loading,error:t.contacts.error}}),(function(t){return{fetchContacts:function(){return t(U())}}}))(xt),Ct=n(67),yt=n(34),Nt=n(167),gt=n.n(Nt),At=n(9),St=Object(D.c)([],(Q={},Object(w.a)(Q,P,(function(t,e){return e.payload})),Object(w.a)(Q,J,(function(t,e){var n=e.payload;return[].concat(Object(Ct.a)(t),[n])})),Object(w.a)(Q,B,(function(t,e){var n=e.payload;return t.filter((function(t){return t.id!==n}))})),Q)),wt=Object(D.c)(!1,(G={},Object(w.a)(G,L,(function(){return!0})),Object(w.a)(G,P,(function(){return!1})),Object(w.a)(G,W,(function(){return!1})),Object(w.a)(G,q,(function(){return!0})),Object(w.a)(G,J,(function(){return!1})),Object(w.a)(G,R,(function(){return!1})),Object(w.a)(G,Z,(function(){return!0})),Object(w.a)(G,B,(function(){return!1})),Object(w.a)(G,z,(function(){return!1})),G)),Ft=Object(D.c)("",Object(w.a)({},M,(function(t,e){return e.payload}))),It=Object(D.c)(null,(K={},Object(w.a)(K,W,(function(t,e){return e.payload})),Object(w.a)(K,R,(function(t,e){return e.payload})),Object(w.a)(K,z,(function(t,e){return e.payload})),K)),Et=Object(At.c)({items:St,filter:Ft,loading:wt,error:It}),kt=[].concat(Object(Ct.a)(Object(D.d)({serializableCheck:{ignoredActions:[yt.a,yt.f,yt.b,yt.c,yt.d,yt.e]}})),[function(t){return function(t){return function(e){console.log("My middleware",e),t(e)}}},gt.a]),Tt=Object(D.a)({reducer:{contacts:Et},middleware:kt,devTools:!1});n(494),n(495);i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(s.a,{store:Tt,children:Object(c.jsx)(vt,{})})}),document.getElementById("root"))},65:function(t,e,n){t.exports={enter:"fade_enter__3fP_K",enterActive:"fade_enterActive__3wBSj",exit:"fade_exit__1p80h",exitActive:"fade_exitActive__1pXJE"}},69:function(t,e,n){t.exports={filterWrapper:"Filter_filterWrapper__-PrGA",label:"Filter_label__mD29V",input:"Filter_input__3azow"}},70:function(t,e,n){t.exports={text:"ContactItem_text__2PEJH",button:"ContactItem_button__3oRzx",listItem:"ContactItem_listItem__3sgZh"}},98:function(t,e,n){t.exports={Container:"Alert_Container__2_s03",Text:"Alert_Text__spP61"}}},[[496,1,2]]]);
//# sourceMappingURL=main.bbbbeb24.chunk.js.map